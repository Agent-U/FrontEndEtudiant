<h1>

    Gestion des Rendez-vous</h1>
<br/>
<br/>
<div class="card-deck">
    <div class="card" style="width:20%;">



        <div class="modal-body">




            <form>
                <div class="form-group">
                    <label> Agent: </label>
                    <div class="dropdown">
                        <select [(ngModel)]="selectAgent" name="test" class="dropdown-select" aria-label=".form-select-lg example"> 
                            <option value='initselect' id="choix" (click)="afficheDisponibilite(-1)" selected> Choisir un agent </option>
                            <option  id="{{agent.id}}" (click)="afficheDisponibilite(agent.id)" *ngFor="let agent of listeAgent" > {{agent.nom}} {{agent.prenom}}</option>
                            
                          </select>
                    </div>
                </div>


                <div class="form-group">
                    <label> Créneau: </label>
                    <div class="dropdown">

                        <select [(ngModel)]="selectCreneau" name="creneau" class="dropdown-select" aria-label=".form-select-lg example">
                            <option value="initCreanu" selected> Choisir un créneau </option>
                            <option   (click)="changeRendezVous(rendezVous)"   *ngFor="let rendezVous of selectRendezVous" > Le {{rendezVous.date.substring(8, 10)}}/{{rendezVous.date.substring(5, 7)}}/{{rendezVous.date.substring(0, 4)}} à {{rendezVous.date.substring(11, 16)}}</option>




                            
                            
                          </select>
                    </div>
                </div>

                <div class="form-group">
                    <label> Motif: </label>
                    <textarea type="text" [(ngModel)]="motif" class="form-control" name="motif" placeholder="Motif"> </textarea>
                </div>
                <div>
                    <button type="submit" id="button" class="btn btn-success" type="submit" name="submit_reg" value="Register" (click)="ajouterRendezVous()">Ajouter</button>
                </div>
                <!-- <div class="form-group">
                          <label> Id: </label>
                          <input type="text" [(ngModel)]="incident1.id" class="form-control"  name="id" id="incidentId" placeholder="ID">
                        </div> 

                        
                      
                        
                    -->
            </form>


        </div>

    </div>

    <div class="card" style="width:80%;">

        <table id="example" class="table table-striped table-hover table-fixed">
            <thead class="thead-dark">

                <tr>
                    <th style="width:80%;" class="text-center" id="RDVl" scope="col" [appSort]="listeRendezVous" data-order="desc" data-name="id">Rendez-vous</th>
                    <th style="width:20%;" class="text-center" id="RDVl" scope="col" [appSort]="listeRendezVous" data-order="desc" data-name="disponible"> Operations</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let rdv of listeRendezVous ">
                    <td style="width:80%;" *ngIf="((rdv.disponible == false)&&(rdv.etudiant.ine == idEtudiantsActuel))">
                        <div>
                            <h4 class="mb-4 text-left"> Rendez-vous avec {{rdv.agent.nom}} {{rdv.agent.prenom}} </h4>
                        </div>
                        <div>
                            <h5 class="mb-4 text-left"> Motif : {{rdv.motif}}</h5>
                        </div>
                        <div>
                            <p class="mb-4 text-left">Le {{rdv.date.substring(8, 10)}}/{{rdv.date.substring(5, 7)}}/{{rdv.date.substring(0, 4)}} à {{rdv.date.substring(11, 16)}}</p>
                        </div>
                    </td>
                    <td *ngIf="((rdv.disponible == false)&&(rdv.etudiant.ine == idEtudiantsActuel))" style="width:20%;">
                        <div class=" text-center">
                            <br><br>
                            <button (click)="deleteRendezVous(rdv)" class="btn btn-md btn-danger ">
                                <i class="fa fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>

            </tbody>

        </table>

    </div>

    <!-- 
    <div class="col-6">
        <div class="toolbar tool" id="rendezvous_card_choix" role="banner">
             <h1 id="rendezvousTitGene" >Rendez Vous :</h1>
            <div class="row" *ngFor="let rendezVousElem of listeRendezVous">
                <div *ngIf="(rendezVousElem.etudiant != null) && (rendezVousElem.etudiant.ine == idEtudiantsActuel)" class="one_rendezvous" >
                    <h1 id="rendezvousTitre" > Rendez-vous avec {{rendezVousElem.agent.nom}} {{rendezVousElem.agent.prenom}}</h1>

                    <div id="rendezvousDate" >  <b> Le :{{rendezVousElem.date.substring(8, 10)}}/{{rendezVousElem.date.substring(5, 7)}}/{{rendezVousElem.date.substring(0, 4)}} à {{rendezVousElem.date.substring(11, 16)}}</b> 
                        <img id="delete_icon" src="/assets/delete.png" (click)="deleteRendezVous(rendezVousElem)">
                    </div>

                    
                  
                    
                </div>
                </div>
    
        </div>

    </div> -->




</div>